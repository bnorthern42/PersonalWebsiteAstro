---
import experience from "../data/experience";
---

<section id="experience" class="section scroll-mt-24">
    <div class="container">
        <p class="text-sm uppercase tracking-wide font-medium text-accent-300/90">Experience</p>
        <h2 class="heading-grad text-2xl md:text-3xl font-bold mt-2">Work History</h2>

        <ol
                class="mt-6 relative
             before:content-[''] before:absolute before:left-4 md:before:left-5 before:top-0 before:bottom-0
             before:w-px before:bg-white/10"
        >
            {experience.map((item) => (
                    <li class="relative pl-10 md:pl-14 mb-6 last:mb-0">
                        {/* timeline dot */}
                        <span
                                class="absolute left-[0.55rem] md:left-[1.15rem] top-2
                   size-2.5 rounded-full bg-accent-500 ring-4 ring-accent-500/20"
                                aria-hidden="true"
                        />

                        <article
                                class="rounded-2xl border border-white/10 bg-[#10131a]/90 p-4 md:p-5
                   transition hover:-translate-y-0.5 hover:shadow-[0_20px_50px_rgba(0,0,0,.35)]
                   hover:border-accent-400/50 focus-within:border-accent-400/60"
                        >
                            {/* Header row */}
                            <header class="grid grid-cols-1 md:grid-cols-12 gap-2 items-start">
                                <div class="md:col-span-8">
                                    <h3 class="text-lg font-semibold">
                                        {item.role}
                                        {item.company && <span class="text-zinc-400"> — {item.company}</span>}
                                    </h3>
                                </div>

                                <div class="md:col-span-4 md:text-right text-zinc-400 text-sm">
                                    {item.start && (
                                            <time datetime={item.start} class="whitespace-nowrap">
                                                {item.start}
                                            </time>
                                    )}
                                    <span class="mx-1">–</span>
                                    {item.end ? (
                                            <time datetime={item.end} class="whitespace-nowrap">{item.end}</time>
                                    ) : (
                                            <span class="whitespace-nowrap">Present</span>
                                    )}
                                </div>
                            </header>

                            {/* Body */}
                            <div class="mt-2 text-zinc-300">
                                {item.summary && <p class="mt-1">{item.summary}</p>}

                                {item.bullets && item.bullets.length > 0 && (
                                        <ul class="mt-3 space-y-1.5">
                                            {item.bullets.map((b) => (
                                                    <li class="pl-5 relative">
                                                        <span class="absolute left-0 top-1.5 size-1.5 rounded-full bg-accent-500/70" />
                                                        <span class="text-sm">{b}</span>
                                                    </li>
                                            ))}
                                        </ul>
                                )}

                                {/* optional tech tags if your data has item.tech or item.stack */}
                                {(item.tech || item.stack) && (
                                        <div class="mt-3 flex flex-wrap gap-2">
                                            {(item.tech || item.stack).map((t) => (
                                                    <span class="px-2 py-0.5 rounded-md bg-accent-500/10 text-accent-300 text-xs border border-accent-500/20">
                      {t}
                    </span>
                                            ))}
                                        </div>
                                )}
                            </div>
                        </article>
                    </li>
            ))}
        </ol>
    </div>
</section>
